<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.Thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" th:href="@{/layui/css/layui.css}">
    <script th:src="@{/layui/layui.js}"></script>
</head>
<body>
<script type="text/javascript">
    function previewImg(obj) {
        var img = new Image();
        img.src = obj.src;
        var height = img.height * 0.19; //获取图片高度
        var width = img.width * 0.18; //获取图片宽度
        var imgHtml = "<img class='cc1' src='" + obj.src + "'/>";
        //弹出层
        layer.open({
            type: 1,
            shade: 0.8,
            offset: 'auto',
            area: [width + 'px', height + 'px'],
            shadeClose: true,//点击外围关闭弹窗
            scrollbar: false,//不现实滚动条
            title: "图片预览", //不显示标题
            content: imgHtml, //捕获的元素，注意：最好该指定的元素要存放在body最外层，否则可能被其它的相对元素所影响
            cancel: function () {
            //layer.msg('捕获就是从页面已经存在的元素上，包裹layer的结构', { time: 5000, icon: 6 });
            }
        });
    }

    //
    // //固定预览图片大小
    // //500 * 500
    //
    // function previewImg(obj) {
    //     var img = new Image();
    //     img.src = obj.src;
    //     var imgHtml = "<img src='" + obj.src + "' width='500px' height='500px'/>";
    //     //弹出层
    //     layer.open({
    //         type: 1,
    //         shade: 0.8,
    //         offset: 'auto',
    //         area: [500 + 'px', 550 + 'px'],
    //         shadeClose: true,
    //         scrollbar: false,
    //         title: "图片预览", //不显示标题
    //         content: imgHtml, //捕获的元素，注意：最好该指定的元素要存放在body最外层，否则可能被其它的相对元素所影响
    //         cancel: function () {
    //         //layer.msg('捕获就是从页面已经存在的元素上，包裹layer的结构', { time: 5000, icon: 6 });
    //         }
    //     });
    // }
    function test(){
        alert(1);
    }
</script>
<style>
    .cc{
        max-height: 220px;
        /*max-width: auto;*/
    }
    .cc1{
        max-height: 100%;
        max-width: 100%;
    }
</style>


<img src="http://111.229.178.45/xhb/IMG_0166.JPG" alt="lll"  class="layui-upload-img cc" th:onclick="previewImg(this)">
<img src="http://111.229.178.45/xhb/IMG_0167.JPG" alt="lll"  class="layui-upload-img cc" th:onclick="previewImg(this)">
    <p onclick="test()">我是小伙伴</p>
</body>
</html>